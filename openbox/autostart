# Placed in /home/[user account]/.config/openbox/autostart as local
# user template. Otherwise, can be placed in
# /etc/xdg/openbox/autostart as a global template
#
# Note: applications such as the network manager (nm-app) have been
# placed in /etc/xdg/autostart as global items

# Should be written in sh

# Capslock is Super
[ ! -f ~/misc/bin/fix_capslock ] || ~/misc/bin/fix_capslock &

## Wallpaper
[ -z "$(command -v nitrogen)" ] || nitrogen --restore &

## Compositing
if [ -n "$(command -v compton)" ] &&
   [ -f ~/.config/compton.conf ]; then
    compton ~/.config/compton.conf &
fi

sleep 1

## Panel
[ -z "$(command -v tint2)" ] || [ -f ~/.notint2 ] || tint2 &

# Bluetooth applet
[ -z "$(command -v blueman-applet)" ] || blueman-applet &

# NetworkManager applet
[ -z "$(command -v nm-applet)" ] || nm-applet &

# Pulseaudio applet
[ -z "$(command -v pa-applet)" ] || pa-applet &

# PCManFM is run in daemon-mode to enable auto-mounting of removable
# media
[ -z "$(command -v pcmanfm)" ] || pcmanfm -d &

# Screensaver
[ -z "$(command -v xscreensaver)" ] || xscreensaver -no-splash &

# Notifications
[ -z "$(command -v dunst)" ] || dunst &

# Numlock
[ -z "$(command -v numlockx)" ] || numlockx &

sleep 10

# VNC Server
[ -z "$(command -v x11vnc)" ] || x11vnc -usepw -display :0 -forever &

# Local autostart script
[ ! -f ~/.autostart.local ] || ~/.autostart.local

# Lockscreen b/c autologin
[ ! -f ~/.lock_on_login ] || xscreensaver-command -lock &
